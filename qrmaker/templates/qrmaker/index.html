<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <title>QR Code Generator</title>
    {% load custom_filters %}
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.0.0-beta3/dist/css/bootstrap.min.css" rel="stylesheet"
        integrity="sha384-eOJMYsd53ii+scO/bJGFsiCZc+5NDVN2yr8+0RDqr0Ql0h+rP48ckxlpbzKgwra6" crossorigin="anonymous">
    <script src="https://www.google.com/recaptcha/api.js" async defer></script>
</head>

<body>
    <div class="container shadow" style="width: 800px; margin-top: 5em; padding: 2em">
        <form method="post">
            {% csrf_token %}
            <h3>Enter any text to generate a QR code</h3>
            <div class="input-group mb-3">
                <span class="input-group-text" id="inputGroup-sizing-default">QR Code Text:</span>
                <input type="text" class="form-control" aria-describedby="inputGroup-sizing-default" name="url"
                    autofocus>
            </div>
            <div class="input-group mb-3">
                <button data-action='submit'>Submit</button>
            </div>
        </form>
        <div class="input-group mb-3">
            <div style="margin: auto">
                {% if qr_image %}
                <img src="data:image/png;base64,{{ qr_image|b64encode }}" />
                {% endif %}
            </div>
        </div>
    </div>
</body>
<script>
    function onSubmit(token) {
        document.getElementById("demo-form").submit();
    }
</script>

</html>